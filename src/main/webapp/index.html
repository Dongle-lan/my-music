<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#e90101"/>
    <title>基于springboot在线音乐系统的设计</title>
    <meta name="author" content="Themezinho">
    <meta name="description" content="For all kind of video streaming website">
    <meta name="keywords" content="digiflex, video, movie, show, tv, watch, online, streaming, stream, ads, trailer, imdb, dram, action, hollywood, cinema, rate">

    <!-- SOCIAL MEDIA META -->
    <meta property="og:description" content="digiflex | Online Movie Streaming">
    <meta property="og:image" content="http://www.themezinho.net/digiflex/preview.png">
    <meta property="og:site_name" content="digiflex">
    <meta property="og:title" content="digiflex">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://www.themezinho.net/digiflex">

    <!-- TWITTER META -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@digiflex">
    <meta name="twitter:creator" content="@digiflex">
    <meta name="twitter:title" content="digiflex">
    <meta name="twitter:description" content="digiflex | Online Movie Streaming">
    <meta name="twitter:image" content="http://www.themezinho.net/digiflex/preview.png">

    <!-- FAVICON FILES -->
    <link href="ico/apple-touch-icon-144-precomposed.png" rel="apple-touch-icon" sizes="144x144">
    <link href="ico/apple-touch-icon-114-precomposed.png" rel="apple-touch-icon" sizes="114x114">
    <link href="ico/apple-touch-icon-72-precomposed.png" rel="apple-touch-icon" sizes="72x72">
    <link href="ico/apple-touch-icon-57-precomposed.png" rel="apple-touch-icon">
<!--    <link href="ico/favicon.png" rel="shortcut icon">-->

    <!-- CSS FILES -->
    <link rel="stylesheet" href="css/lineicons.css">
    <link rel="stylesheet" href="css/fancybox.min.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="layui/css/layui.css">
</head>
<body>

<div id="iframetop" style="position: relative;z-index: 2000 !important;">


</div>
<!-- end mobile-menu -->
<!-- end navbar -->


<div id="app"  style="position: relative;z-index: 999">
    <header class="slider">
        <div class="main-slider">
            <div class="swiper-wrapper">

                <!-- end swiper-slide -->
                <div v-for="imgadv in imgadvlist" class="swiper-slide">
                    <!--<div class="slide-inner bg-image" data-background="images/slide03.jpg">-->
                    <div class="slide-inner bg-image" :data-background="['upload/'+imgadv.filename]">
                        <div class="container" data-swiper-parallax="200">
                            <h6 class="tagline">欢迎来到</h6>
                            <h2 class="name">Lan 音乐系统！ <br>
                                <strong>下滑开启你的音乐叭~</strong></h2>
                            <ul class="features">

                            </ul>
                            <p class="description">来自民师院的lan先生作品</p>
                            <a :href="imgadv.url" class="play-btn" data-background="#98FB98">播放</a>
                            <!--<a href="account.html" class="add-btn">+</a></div>-->
                    </div>
                </div>
        </div>
            </div>
            <!-- end swiper-wrapper -->
            <div class="swiper-pagination"></div>
            <!-- end swiper-pagination -->
        </div>
        <!-- end main-slider -->

    </header>

    <main>
        <section class="content-section" data-background="#3AA49F">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="section-title">
                            <!--<h6>ONLINE STREAMING</h6>-->
                            <h3>高评分歌曲</h3>
                        </div>
                        <!-- end section-title -->
                    </div>
                    <!-- end col-12 -->
                    <div v-for="(scoremovie,i) in scoremovielist" v-if="i<4" class="col-lg-3 col-sm-6">
                        <div class="category-thumb">
                            <figure class="category-image" style="height: 380px;">
                                <img :src="['upload/'+scoremovie.filename]" alt="Image"  style="height: 100%">

                            </figure>
                            <div class="category-content">

                                <h3 class="name">{{scoremovie.name}}</h3>
                                <div class="play-btn"><a :href="['moviedetails.html?id='+scoremovie.id]">+</a></div>
                                <small class="details">{{scoremovie.category.name}} <span>-</span> {{scoremovie.yeartime}}</small>

                            </div>
                            <!-- end category-content -->
                        </div>
                        <!-- end category-thumb -->
                    </div>

                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </section>
        <!-- end content-section -->

        <!-- end content-section -->
        <section class="content-section" data-background="#3AA49F">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="section-title text-center light">
                            <!--<h6>FIND ANYWHERE ELSE</h6>-->
                            <h2>最新音乐</h2>
                        </div>
                        <!-- end section-title -->
                    </div>
                    <!-- end col-12 -->
                    <div v-for="(movie,i) in movielist" class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-6">
                        <div class="video-thumb light">
                            <figure class="video-image" style="height: 150px;"><a
                                    :href="['moviedetails.html?id='+movie.id]"><img :src="['upload/'+movie.filename]"
                                                                                    alt="Image"
                                                                                    style="height: 100%"></a>
                                <div class="circle-rate">
                                    <svg class="circle-chart" viewBox="0 0 30 30" width="100" height="100"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle class="circle-chart__background" stroke="#2f3439" stroke-width="2"
                                                fill="none" cx="15" cy="15" r="14"></circle>
                                        <circle class="circle-chart__circle" stroke="#4eb04b" stroke-width="2"
                                                stroke-dasharray="50,100" cx="15" cy="15" r="14"></circle>
                                    </svg>
                                    <b>{{movie.score}}</b></div>
                                <!-- end circle-rate -->
                                <!--<div class="hd">1080 <b>HD</b></div>-->
                                <!-- end hd -->
                            </figure>
                            <div class="video-content">
                                <small class="range">{{movie.yeartime}}</small>
                                <ul class="tags">
                                    <li>{{movie.category.name}}</li>
                                    <li v-if="movie.isfree == '是'"><span class="layui-badge layui-bg" data-background="#32e2ac">免费</span></li>
                                    <li v-if="movie.isfree == '否'"><span class="layui-badge layui-bg-orange">付费</span></li>

                                </ul>
                                <!--<div class="age">PG13</div>-->
                                <!-- end age -->
                                <h3 class="name"><a :href="['moviedetails.html?id='+movie.id]">{{movie.name}}</a></h3>
                            </div>
                            <!-- end video-content -->
                        </div>
                        <!-- end video-thumb -->
                    </div>

                    <div class="col-12 text-center"><a href="movielist.html" class="custom-button" data-background="#8A2BE2">浏览所有的歌曲</a></div>
                    <!-- end col-12 -->
                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </section>

        <footer class="footer">

            <!-- end container -->
            <div class="bottom-bar" id="iframefoot">
                <!-- end container -->
            </div>
            <!-- end bottom-bar -->
        </footer>
        <!-- end footer -->
    </main>
</div>
<!-- end slider -->

<!-- JS FILES -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/fancybox.min.js"></script>
<script src="js/scripts.js"></script>
<script type="text/javascript" src="axios/vue.js"></script>
<script type="text/javascript" src="axios/axios.min.js"></script>
<script type="text/javascript" src="axios/qs.js"></script>
<script type="text/javascript" src="axios/getUrlParams.js"></script>
<script type="text/javascript" src="layer/layer.js"></script>
<script type="text/javascript" src="layui/layui.js"></script>

<script type="text/javascript">

    var qs = Qs
    var vmm = new Vue({
        el: "#app",
        data: {
            imgadvlist: [],
            movielist: [],
            scoremovielist: [],

        },
        mounted() {
            this.getimgadvlist()
            this.getmovielist()
            this.getscoremovielist()
        },
        methods: {

            getscoremovielist() {
                axios.post('admin/movieList', qs.stringify({
                    orderby:"score",
                    shstatus:"通过"
                })).then(response => {
                    this.scoremovielist = response.data.list
                }).catch(error => {
                    console.log(error)
                })
            },

            getimgadvlist() {
                axios.post('admin/imgadvList', qs.stringify({})).then(response => {
                    this.imgadvlist = response.data.list
                }).catch(error => {
                    console.log(error)
                })
            },

            getmovielist() {
                axios.post('admin/movieList', qs.stringify({
                    shstatus:"通过"
                })).then(response => {
                    this.movielist = response.data.list
                }).catch(error => {
                    console.log(error)
                })
            },

        }
    })


    window.onload = function () {
        $("#iframetop").load("top.html")
        $("#iframefoot").load("foot.html")
    }
</script>
</body>
</html>